<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Analyse en composantes principales</title>
    <meta charset="utf-8" />
    <meta name="author" content="Marie-Pierre Etienne" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
    <script src="libs/plotly-binding-4.10.0/plotly.js"></script>
    <script src="libs/typedarray-0.1/typedarray.min.js"></script>
    <script src="libs/jquery-3.5.1/jquery.min.js"></script>
    <link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="mpe_pres.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Analyse en composantes principales
## pour visualiser et comprendre des données complexes
### Marie-Pierre Etienne
### <a href="mailto:marie-pierre.etienne@agrocampus-ouest.fr" class="email">marie-pierre.etienne@agrocampus-ouest.fr</a>
### 2021/12/21 (updated: 2022-01-02)

---

name: intro

&lt;!-- F1D763 --&gt;
&lt;!-- F7A913 --&gt;
&lt;!-- C94326 --&gt;
&lt;!-- 1F908E --&gt;
&lt;!-- 33658A --&gt;











# Introduction

--

## L'exemple des caractéristuqes du Doubs 

On a mesuré les caractéristiques physico chimiques sur 30  sites différents le long de la rivière Doubs. 

.pull-left[ Les 6 premières lignes (parmi 30) du jeu de données doubs.env

```
# A tibble: 30 × 11
    das   alt   pen   deb    pH   dur   pho   nit   amm   oxy   dbo
  &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1   0.3   934  48    0.84   7.9    45  0.01  0.2   0     12.2   2.7
2   2.2   932   3    1      8      40  0.02  0.2   0.1   10.3   1.9
3  10.2   914   3.7  1.8    8.3    52  0.05  0.22  0.05  10.5   3.5
4  18.5   854   3.2  2.53   8      72  0.1   0.21  0     11     1.3
5  21.5   849   2.3  2.64   8.1    84  0.38  0.52  0.2    8     6.2
6  32.4   846   3.2  2.86   7.9    60  0.2   0.15  0     10.2   5.3
# … with 24 more rows
```
]


.pull-right[
* das :  distance à al source ( `\(km\)` ),  
* alt : altitude ( `\(m\)` )
* pen : la pente (denivelelé pour  1000m)
* deb : le débit () `\(m^3.s^{-1}\)` )
* pH : le pH de l'eau,
* dur : la concentration en calcium ( `\(mg.L^{-1}\)` ),
* pho	: concentration en phosphate ( `\(mg.L^{-1}\)` ),
* nit : concentration en nitrate  ( `\(mg.L^{-1}\)` ),
* amn	: concentration en ammonium ( `\(mg.L^{-1}\)` ),
* oxy	: concentration d'oxygène dissous ( `\(mg.L^{-1}\)` ), 
* dbo	: Demande biologique en oxygène ( `\(mg.L^{-1}\)` ).
]



--
&lt;p class="question"&gt; Comment visualiser au mieux ces données pour faire apparaître les liens entre variables et identifier des resemblances entre individus ?&lt;/p&gt;


---
template: intro

## L'exemple des caractéristuqes du Doubs 

On a mesuré les caractéristiques morphologiques de divers manchots :


.pull-left[ Les 6 premières lignes (parmi 333 ) du jeu de données doubs.env
 
 ```
 # A tibble: 333 × 4
   bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
            &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
 1           39.1          18.7               181        3750
 2           39.5          17.4               186        3800
 3           40.3          18                 195        3250
 4           36.7          19.3               193        3450
 5           39.3          20.6               190        3650
 6           38.9          17.8               181        3625
 # … with 327 more rows
 ```
]


.pull-right[

* bill_length_mm ! la longueur du bec,

* bill_depth_mm : l'épaisseur du bec, 

* flipper_length_mm : la longueur de la nageoire,

* body_mass_g : le poids du corps.

]



--
&lt;p class="question"&gt; Comment visualiser au mieux ces données pour faire apparaître les liens entre variables et identifier des resemblances entre individus ?&lt;/p&gt;

---
template: intro 
## Formalisation 

* Un individu statistique `\(i\)`, on a mesuré `\(n\)` individus.   
* Pour chaque individu, on a  mesuré `\(p\)` variables différentes.

Les données sont rangées dans un tableau à `\(n\)` lignes et `\(p\)` colonnes.

.pull-left[
&lt;img src="./acp_data_pres.png" width="80%" height="30%" style="display: block; margin: auto;" /&gt;
]

.pull-righ[
On note `\(x_{ik}\)` la valeur mesurée pour la variable `\(k\)` sur l'individu `\(i\)`,

et 

* `\(x_{\bullet k} = \frac{1}{n} \sum_{i=1}^n x_{ik}\)` la valeur moyenne de la variable `\(k\)`,
* `\(s_k  = \sqrt{\frac{1}{n} \sum_{i=1}^n (x_{ik}-x_{\bullet k})^2}\)` l'écart type de la variable  `\(k\)`,

]
 


---
template: intro

## Même question dans des domaines strès variés

• Analyse sensorielle : note du descripteur `\(k\)` pour le produit `\(i\)`

• Economie : valeur de l’indicateur `\(k\)` pour l’année `\(i\)`

• Génomique : expression du gène `\(k\)` pour l'e patient'échantilon  `\(i\)`

• Marketing : valeur d’indice de satisfaction `\(k\)` pour la marque `\(i\)`

etc ...


--

On a `\(p\)` variables mesurées sur `\(n\)` individus et on souhaite visualiser ces données pour comprendre les liens entre variables et les proximités entre individus.

---
template: intro

## Voir c'est comprendre : comment représenter l'information contenue dans ce tableau ?

--

Idée 1 : on représente les liens des variables 2 à 2

&lt;img src="acp_files/figure-html/ggpairs-1.png" width="80%" height="80%" style="display: block; margin: auto;" /&gt;


---
template: intro

## Voir c'est comprendre : comment représenter l'information contenue dans ce tableau ?


Idée 1 : on représente les liens des variables 2 à 2

&lt;img src="acp_files/figure-html/gg_prog-1.png" width="80%" height="80%" style="display: block; margin: auto;" /&gt;

--

On perd l'information sur les autres axes

---
template: intro

## Voir c'est comprendre : comment représenter l'information contenue dans ce tableau ?

Idée 1 : on représente les liens des variables 2 à 2

<div id="htmlwidget-54dc4a9a2f7541095758" style="width:500px;height:500px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-54dc4a9a2f7541095758">{"x":{"visdat":{"18d61aee76b":["function () ","plotlyVisDat"]},"cur_data":"18d61aee76b","attrs":{"18d61aee76b":{"x":{},"y":{},"z":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d","mode":"markers","size":12,"inherit":true}},"layout":{"width":500,"height":500,"margin":{"b":40,"l":60,"t":25,"r":10},"title":"3D Scatter plot","scene":{"camera":{"eye":{"x":-2,"y":0,"z":0}},"center":{"x":17.1648648648649},"xaxis":{"title":"bill_depth_mm"},"yaxis":{"title":"-body_mass_g"},"zaxis":{"title":"flipper_length_mm"}},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[18.7,17.4,18,19.3,20.6,17.8,19.6,17.6,21.2,21.1,17.8,19,20.7,18.4,21.5,18.3,18.7,19.2,18.1,17.2,18.9,18.6,17.9,18.6,18.9,16.7,18.1,17.8,18.9,17,21.1,20,18.5,19.3,19.1,18,18.4,18.5,19.7,16.9,18.8,19,17.9,21.2,17.7,18.9,17.9,19.5,18.1,18.6,17.5,18.8,16.6,19.1,16.9,21.1,17,18.2,17.1,18,16.2,19.1,16.6,19.4,19,18.4,17.2,18.9,17.5,18.5,16.8,19.4,16.1,19.1,17.2,17.6,18.8,19.4,17.8,20.3,19.5,18.6,19.2,18.8,18,18.1,17.1,18.1,17.3,18.9,18.6,18.5,16.1,18.5,17.9,20,16,20,18.6,18.9,17.2,20,17,19,16.5,20.3,17.7,19.5,20.7,18.3,17,20.5,17,18.6,17.2,19.8,17,18.5,15.9,19,17.6,18.3,17.1,18,17.9,19.2,18.5,18.5,17.6,17.5,17.5,20.1,16.5,17.9,17.1,17.2,15.5,17,16.8,18.7,18.6,18.4,17.8,18.1,17.1,18.5,13.2,16.3,14.1,15.2,14.5,13.5,14.6,15.3,13.4,15.4,13.7,16.1,13.7,14.6,14.6,15.7,13.5,15.2,14.5,15.1,14.3,14.5,14.5,15.8,13.1,15.1,15,14.3,15.3,15.3,14.2,14.5,17,14.8,16.3,13.7,17.3,13.6,15.7,13.7,16,13.7,15,15.9,13.9,13.9,15.9,13.3,15.8,14.2,14.1,14.4,15,14.4,15.4,13.9,15,14.5,15.3,13.8,14.9,13.9,15.7,14.2,16.8,16.2,14.2,15,15,15.6,15.6,14.8,15,16,14.2,16.3,13.8,16.4,14.5,15.6,14.6,15.9,13.8,17.3,14.4,14.2,14,17,15,17.1,14.5,16.1,14.7,15.7,15.8,14.6,14.4,16.5,15,17,15.5,15,16.1,14.7,15.8,14,15.1,15.2,15.9,15.2,16.3,14.1,16,16.2,13.7,14.3,15.7,14.8,16.1,17.9,19.5,19.2,18.7,19.8,17.8,18.2,18.2,18.9,19.9,17.8,20.3,17.3,18.1,17.1,19.6,20,17.8,18.6,18.2,17.3,17.5,16.6,19.4,17.9,19,18.4,19,17.8,20,16.6,20.8,16.7,18.8,18.6,16.8,18.3,20.7,16.6,19.9,19.5,17.5,19.1,17,17.9,18.5,17.9,19.6,18.7,17.3,16.4,19,17.3,19.7,17.3,18.8,16.6,19.9,18.8,19.4,19.5,16.5,17,19.8,18.1,18.2,19,18.7],"y":[-3750,-3800,-3250,-3450,-3650,-3625,-4675,-3200,-3800,-4400,-3700,-3450,-4500,-3325,-4200,-3400,-3600,-3800,-3950,-3800,-3800,-3550,-3200,-3150,-3950,-3250,-3900,-3300,-3900,-3325,-4150,-3950,-3550,-3300,-4650,-3150,-3900,-3100,-4400,-3000,-4600,-3425,-3450,-4150,-3500,-4300,-3450,-4050,-2900,-3700,-3550,-3800,-2850,-3750,-3150,-4400,-3600,-4050,-2850,-3950,-3350,-4100,-3050,-4450,-3600,-3900,-3550,-4150,-3700,-4250,-3700,-3900,-3550,-4000,-3200,-4700,-3800,-4200,-3350,-3550,-3800,-3500,-3950,-3600,-3550,-4300,-3400,-4450,-3300,-4300,-3700,-4350,-2900,-4100,-3725,-4725,-3075,-4250,-2925,-3550,-3750,-3900,-3175,-4775,-3825,-4600,-3200,-4275,-3900,-4075,-2900,-3775,-3350,-3325,-3150,-3500,-3450,-3875,-3050,-4000,-3275,-4300,-3050,-4000,-3325,-3500,-3500,-4475,-3425,-3900,-3175,-3975,-3400,-4250,-3400,-3475,-3050,-3725,-3000,-3650,-4250,-3475,-3450,-3750,-3700,-4000,-4500,-5700,-4450,-5700,-5400,-4550,-4800,-5200,-4400,-5150,-4650,-5550,-4650,-5850,-4200,-5850,-4150,-6300,-4800,-5350,-5700,-5000,-4400,-5050,-5000,-5100,-5650,-4600,-5550,-5250,-4700,-5050,-6050,-5150,-5400,-4950,-5250,-4350,-5350,-3950,-5700,-4300,-4750,-5550,-4900,-4200,-5400,-5100,-5300,-4850,-5300,-4400,-5000,-4900,-5050,-4300,-5000,-4450,-5550,-4200,-5300,-4400,-5650,-4700,-5700,-5800,-4700,-5550,-4750,-5000,-5100,-5200,-4700,-5800,-4600,-6000,-4750,-5950,-4625,-5450,-4725,-5350,-4750,-5600,-4600,-5300,-4875,-5550,-4950,-5400,-4750,-5650,-4850,-5200,-4925,-4875,-4625,-5250,-4850,-5600,-4975,-5500,-5500,-4700,-5500,-4575,-5500,-5000,-5950,-4650,-5500,-4375,-5850,-6000,-4925,-4850,-5750,-5200,-5400,-3500,-3900,-3650,-3525,-3725,-3950,-3250,-3750,-4150,-3700,-3800,-3775,-3700,-4050,-3575,-4050,-3300,-3700,-3450,-4400,-3600,-3400,-2900,-3800,-3300,-4150,-3400,-3800,-3700,-4550,-3200,-4300,-3350,-4100,-3600,-3900,-3850,-4800,-2700,-4500,-3950,-3650,-3550,-3500,-3675,-4450,-3400,-4300,-3250,-3675,-3325,-3950,-3600,-4050,-3350,-3450,-3250,-4050,-3800,-3525,-3950,-3650,-3650,-4000,-3400,-3775,-4100,-3775],"z":[181,186,195,193,190,181,195,182,191,198,185,195,197,184,194,174,180,189,185,180,187,183,187,172,180,178,178,188,184,195,196,190,180,181,184,182,195,186,196,185,190,182,190,191,186,188,190,200,187,191,186,193,181,194,185,195,185,192,184,192,195,188,190,198,190,190,196,197,190,195,191,184,187,195,189,196,187,193,191,194,190,189,189,190,202,205,185,186,187,208,190,196,178,192,192,203,183,190,193,184,199,190,181,197,198,191,193,197,191,196,188,199,189,189,187,198,176,202,186,199,191,195,191,210,190,197,193,199,187,190,191,200,185,193,193,187,188,190,192,185,190,184,195,193,187,201,211,230,210,218,215,210,211,219,209,215,214,216,214,213,210,217,210,221,209,222,218,215,213,215,215,215,215,210,220,222,209,207,230,220,220,213,219,208,208,208,225,210,216,222,217,210,225,213,215,210,220,210,225,217,220,208,220,208,224,208,221,214,231,219,230,229,220,223,216,221,221,217,216,230,209,220,215,223,212,221,212,224,212,228,218,218,212,230,218,228,212,224,214,226,216,222,203,225,219,228,215,228,215,210,219,208,209,216,229,213,230,217,230,222,214,215,222,212,213,192,196,193,188,197,198,178,197,195,198,193,194,185,201,190,201,197,181,190,195,181,191,187,193,195,197,200,200,191,205,187,201,187,203,195,199,195,210,192,205,210,187,196,196,196,201,190,212,187,198,199,201,193,203,187,197,191,203,202,194,206,189,195,207,202,193,210,198],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(31,119,180,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(31,119,180,1)"}},"textfont":{"size":55},"error_y":{"color":"rgba(31,119,180,1)","width":55},"error_x":{"color":"rgba(31,119,180,1)","width":55},"line":{"color":"rgba(31,119,180,1)","width":55},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>


---
template: intro

.rouge[Objectif :]

* Représenter sans perdre trop d'information 
* idéalement des individus éloignés dans le nuage initial, restent éloignés dans la représentation.

--

.rouge[Ce qu'il nous faut :]

* quantifier l'information perdue dans la représentation 
* construire la représentation qui perd le moins d'information possible

--

.rouge[Précautions :] 

* pour rendre comparable des variables d'unité différentes, on les centre et on les réduit

on définit les mesures centrées réduites 

`$$x_{ik}' = \frac{x_{ik} - x_{\bullet k}}{s_k}$$`

dans la suite, on ommet le `\(\prime\)` pour faciliter l'écriture.


---

name: information

# Une mesure de la quantité d'information

--

## L'inertie du nuage de points 

Les données étant centrées, le point `\(O\)` de coordonnées `\((0, \ldots,0)\)` est le centre du nuage de points.

.pull-left[
<div id="htmlwidget-e781c8935b9ea645b0f9" style="width:500px;height:500px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e781c8935b9ea645b0f9">{"x":{"visdat":{"18d6cb2b31d":["function () ","plotlyVisDat"]},"cur_data":"18d6cb2b31d","attrs":{"18d6cb2b31d":{"x":0,"y":0,"z":0,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d","mode":"markers","showlegend":false,"inherit":true},"18d6cb2b31d.1":{"x":{},"y":{},"z":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d","mode":"markers","size":12,"inherit":true}},"layout":{"width":500,"height":500,"margin":{"b":40,"l":60,"t":25,"r":10},"title":"3D Scatter plot","scene":{"camera":{"eye":{"x":-2,"y":0,"z":0}},"center":{"x":17.1648648648649},"xaxis":{"title":"bill_depth_mm"},"yaxis":{"title":"-body_mass_g"},"zaxis":{"title":"flipper_length_mm"}},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[0],"y":[0],"z":[0],"type":"scatter3d","mode":"markers","showlegend":false,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null},{"x":[0.779558952562776,0.119404276184791,0.424091049897708,1.08424572627569,1.74440040265368,0.322528791993403,1.23658911313215,0.220966534089098,2.04908717636659,1.99830604741444,0.322528791993403,0.931902339419235,1.79518153160583,0.627215565706318,2.20143056322305,0.576434436754166,0.779558952562776,1.03346459732354,0.474872178849861,0.0178420182804862,0.881121210467081,0.728777823610625,0.373309920945555,0.728777823610625,0.881121210467081,-0.236063626480277,0.474872178849861,0.322528791993403,0.881121210467081,-0.0837202396238188,1.99830604741444,1.43971362894076,0.677996694658471,1.08424572627569,0.982683468371388,0.424091049897708,0.627215565706318,0.677996694658471,1.2873702420843,-0.134501368575972,0.83034008151493,0.931902339419235,0.373309920945555,2.04908717636659,0.27174766304125,0.881121210467081,0.373309920945555,1.18580798418,0.474872178849861,0.728777823610625,0.170185405136945,0.83034008151493,-0.286844755432429,0.982683468371388,-0.134501368575972,1.99830604741444,-0.0837202396238188,0.525653307802013,-0.0329391106716654,0.424091049897708,-0.489969271241041,0.982683468371388,-0.286844755432429,1.13502685522784,0.931902339419235,0.627215565706318,0.0178420182804862,0.881121210467081,0.170185405136945,0.677996694658471,-0.185282497528124,1.13502685522784,-0.540750400193192,0.982683468371388,0.0178420182804862,0.220966534089098,0.83034008151493,1.13502685522784,0.322528791993403,1.59205701579722,1.18580798418,0.728777823610625,1.03346459732354,0.83034008151493,0.424091049897708,0.474872178849861,-0.0329391106716654,0.474872178849861,0.0686231472326396,0.881121210467081,0.728777823610625,0.677996694658471,-0.540750400193192,0.677996694658471,0.373309920945555,1.43971362894076,-0.591531529145346,1.43971362894076,0.728777823610625,0.881121210467081,0.0178420182804862,1.43971362894076,-0.0837202396238188,0.931902339419235,-0.337625884384582,1.59205701579722,0.27174766304125,1.18580798418,1.79518153160583,0.576434436754166,-0.0837202396238188,1.69361927370152,-0.0837202396238188,0.728777823610625,0.0178420182804862,1.33815137103646,-0.0837202396238188,0.677996694658471,-0.642312658097498,0.931902339419235,0.220966534089098,0.576434436754166,-0.0329391106716654,0.424091049897708,0.373309920945555,1.03346459732354,0.677996694658471,0.677996694658471,0.220966534089098,0.170185405136945,0.170185405136945,1.49049475789291,-0.337625884384582,0.373309920945555,-0.0329391106716654,0.0178420182804862,-0.845437173906109,-0.0837202396238188,-0.185282497528124,0.779558952562776,0.728777823610625,0.627215565706318,0.322528791993403,0.474872178849861,-0.0329391106716654,0.677996694658471,-2.01340313980562,-0.439188142288887,-1.55637297923625,-0.997780560762567,-1.35324846342764,-1.86105975294916,-1.30246733447548,-0.946999431810414,-1.91184088190131,-0.896218302858261,-1.75949749504486,-0.540750400193192,-1.75949749504486,-1.30246733447548,-1.30246733447548,-0.743874916001804,-1.86105975294916,-0.997780560762567,-1.35324846342764,-1.04856168971472,-1.45481072133194,-1.35324846342764,-1.35324846342764,-0.693093787049651,-2.06418426875777,-1.04856168971472,-1.09934281866687,-1.45481072133194,-0.946999431810414,-0.946999431810414,-1.50559185028409,-1.35324846342764,-0.0837202396238188,-1.20090507657118,-0.439188142288887,-1.75949749504486,0.0686231472326396,-1.81027862399701,-0.743874916001804,-1.75949749504486,-0.591531529145346,-1.75949749504486,-1.09934281866687,-0.642312658097498,-1.65793523714055,-1.65793523714055,-0.642312658097498,-1.96262201085347,-0.693093787049651,-1.50559185028409,-1.55637297923625,-1.40402959237979,-1.09934281866687,-1.40402959237979,-0.896218302858261,-1.65793523714055,-1.09934281866687,-1.35324846342764,-0.946999431810414,-1.7087163660927,-1.15012394761902,-1.65793523714055,-0.743874916001804,-1.50559185028409,-0.185282497528124,-0.489969271241041,-1.50559185028409,-1.09934281866687,-1.09934281866687,-0.794656044953956,-0.794656044953956,-1.20090507657118,-1.09934281866687,-0.591531529145346,-1.50559185028409,-0.439188142288887,-1.7087163660927,-0.388407013336736,-1.35324846342764,-0.794656044953956,-1.30246733447548,-0.642312658097498,-1.7087163660927,0.0686231472326396,-1.40402959237979,-1.50559185028409,-1.6071541081884,-0.0837202396238188,-1.09934281866687,-0.0329391106716654,-1.35324846342764,-0.540750400193192,-1.25168620552333,-0.743874916001804,-0.693093787049651,-1.30246733447548,-1.40402959237979,-0.337625884384582,-1.09934281866687,-0.0837202396238188,-0.845437173906109,-1.09934281866687,-0.540750400193192,-1.25168620552333,-0.693093787049651,-1.6071541081884,-1.04856168971472,-0.997780560762567,-0.642312658097498,-0.997780560762567,-0.439188142288887,-1.55637297923625,-0.591531529145346,-0.489969271241041,-1.75949749504486,-1.45481072133194,-0.743874916001804,-1.20090507657118,-0.540750400193192,0.373309920945555,1.18580798418,1.03346459732354,0.779558952562776,1.33815137103646,0.322528791993403,0.525653307802013,0.525653307802013,0.881121210467081,1.38893249998861,0.322528791993403,1.59205701579722,0.0686231472326396,0.474872178849861,-0.0329391106716654,1.23658911313215,1.43971362894076,0.322528791993403,0.728777823610625,0.525653307802013,0.0686231472326396,0.170185405136945,-0.286844755432429,1.13502685522784,0.373309920945555,0.931902339419235,0.627215565706318,0.931902339419235,0.322528791993403,1.43971362894076,-0.286844755432429,1.84596266055798,-0.236063626480277,0.83034008151493,0.728777823610625,-0.185282497528124,0.576434436754166,1.79518153160583,-0.286844755432429,1.38893249998861,1.18580798418,0.170185405136945,0.982683468371388,-0.0837202396238188,0.373309920945555,0.677996694658471,0.373309920945555,1.23658911313215,0.779558952562776,0.0686231472326396,-0.388407013336736,0.931902339419235,0.0686231472326396,1.2873702420843,0.0686231472326396,0.83034008151493,-0.286844755432429,1.38893249998861,0.83034008151493,1.13502685522784,1.18580798418,-0.337625884384582,-0.0837202396238188,1.33815137103646,0.474872178849861,0.525653307802013,0.931902339419235,0.779558952562776],"y":[0.567620575694403,0.505525420731776,1.18857212532067,0.940191505470164,0.691810885619657,0.72285846310097,-0.581139791114194,1.2506672802833,0.505525420731776,-0.239616438819746,0.62971573065703,0.940191505470164,-0.363806748745,1.09542939287673,0.00876418103076125,1.00228666043279,0.753906040582283,0.505525420731776,0.319239955843895,0.505525420731776,0.505525420731776,0.81600119554491,1.2506672802833,1.31276243524593,0.319239955843895,1.18857212532067,0.381335110806522,1.12647697035804,0.381335110806522,1.09542939287673,0.0708593359933881,0.319239955843895,0.81600119554491,1.12647697035804,-0.55009221363288,1.31276243524593,0.381335110806522,1.37485759020855,-0.239616438819746,1.49904790013381,-0.487997058670254,0.971239082951477,0.940191505470164,0.0708593359933881,0.878096350507537,-0.115426128894492,0.940191505470164,0.195049645918642,1.62323821005906,0.62971573065703,0.81600119554491,0.505525420731776,1.68533336502169,0.567620575694403,1.31276243524593,-0.239616438819746,0.753906040582283,0.195049645918642,1.68533336502169,0.319239955843895,1.06438181539542,0.132954490956015,1.43695274517118,-0.301711593782373,0.753906040582283,0.381335110806522,0.81600119554491,0.0708593359933881,0.62971573065703,-0.0533309739318656,0.62971573065703,0.381335110806522,0.81600119554491,0.257144800881269,1.2506672802833,-0.612187368595507,0.505525420731776,0.00876418103076125,1.06438181539542,0.81600119554491,0.505525420731776,0.878096350507537,0.319239955843895,0.753906040582283,0.81600119554491,-0.115426128894492,1.00228666043279,-0.301711593782373,1.12647697035804,-0.115426128894492,0.62971573065703,-0.177521283857119,1.62323821005906,0.132954490956015,0.598668153175716,-0.643234946076821,1.40590516768987,-0.0533309739318656,1.59219063257775,0.81600119554491,0.567620575694403,0.381335110806522,1.28171485776461,-0.705330101039447,0.474477843250463,-0.487997058670254,1.2506672802833,-0.084378551413179,0.381335110806522,0.164002068437328,1.62323821005906,0.536572998213089,1.06438181539542,1.09542939287673,1.31276243524593,0.878096350507537,0.940191505470164,0.412382688287836,1.43695274517118,0.257144800881269,1.15752454783936,-0.115426128894492,1.43695274517118,0.257144800881269,1.09542939287673,0.878096350507537,0.878096350507537,-0.332759171263686,0.971239082951477,0.381335110806522,1.28171485776461,0.288192378362582,1.00228666043279,-0.0533309739318656,1.00228666043279,0.909143927988851,1.43695274517118,0.598668153175716,1.49904790013381,0.691810885619657,-0.0533309739318656,0.909143927988851,0.940191505470164,0.567620575694403,0.62971573065703,0.257144800881269,-0.363806748745,-1.85409046784804,-0.301711593782373,-1.85409046784804,-1.48151953807228,-0.425901903707627,-0.736377678520761,-1.23313891822178,-0.239616438819746,-1.17104376325915,-0.55009221363288,-1.66780500296016,-0.55009221363288,-2.04037593273592,0.00876418103076125,-2.04037593273592,0.0708593359933881,-2.59923232739957,-0.736377678520761,-1.41942438310966,-1.85409046784804,-0.984758298371268,-0.239616438819746,-1.0468534533339,-0.984758298371268,-1.10894860829652,-1.79199531288542,-0.487997058670254,-1.66780500296016,-1.2952340731844,-0.612187368595507,-1.0468534533339,-2.28875655258643,-1.17104376325915,-1.48151953807228,-0.922663143408641,-1.2952340731844,-0.177521283857119,-1.41942438310966,0.319239955843895,-1.85409046784804,-0.115426128894492,-0.674282523558134,-1.66780500296016,-0.860567988446015,0.00876418103076125,-1.48151953807228,-1.10894860829652,-1.35732922814703,-0.798472833483388,-1.35732922814703,-0.239616438819746,-0.984758298371268,-0.860567988446015,-1.0468534533339,-0.115426128894492,-0.984758298371268,-0.301711593782373,-1.66780500296016,0.00876418103076125,-1.35732922814703,-0.239616438819746,-1.79199531288542,-0.612187368595507,-1.85409046784804,-1.9782807777733,-0.612187368595507,-1.66780500296016,-0.674282523558134,-0.984758298371268,-1.10894860829652,-1.23313891822178,-0.612187368595507,-1.9782807777733,-0.487997058670254,-2.22666139762381,-0.674282523558134,-2.16456624266118,-0.519044636151567,-1.54361469303491,-0.643234946076821,-1.41942438310966,-0.674282523558134,-1.72990015792279,-0.487997058670254,-1.35732922814703,-0.829520410964701,-1.66780500296016,-0.922663143408641,-1.48151953807228,-0.674282523558134,-1.79199531288542,-0.798472833483388,-1.23313891822178,-0.891615565927328,-0.829520410964701,-0.519044636151567,-1.2952340731844,-0.798472833483388,-1.72990015792279,-0.953710720889955,-1.60570984799754,-1.60570984799754,-0.612187368595507,-1.60570984799754,-0.45694948118894,-1.60570984799754,-0.984758298371268,-2.16456624266118,-0.55009221363288,-1.60570984799754,-0.208568861338433,-2.04037593273592,-2.22666139762381,-0.891615565927328,-0.798472833483388,-1.91618562281067,-1.23313891822178,-1.48151953807228,0.878096350507537,0.381335110806522,0.691810885619657,0.847048773026224,0.598668153175716,0.319239955843895,1.18857212532067,0.567620575694403,0.0708593359933881,0.62971573065703,0.505525420731776,0.536572998213089,0.62971573065703,0.195049645918642,0.784953618063597,0.195049645918642,1.12647697035804,0.62971573065703,0.940191505470164,-0.239616438819746,0.753906040582283,1.00228666043279,1.62323821005906,0.505525420731776,1.12647697035804,0.0708593359933881,1.00228666043279,0.505525420731776,0.62971573065703,-0.425901903707627,1.2506672802833,-0.115426128894492,1.06438181539542,0.132954490956015,0.753906040582283,0.381335110806522,0.443430265769149,-0.736377678520761,1.87161882990957,-0.363806748745,0.319239955843895,0.691810885619657,0.81600119554491,0.878096350507537,0.660763308138343,-0.301711593782373,1.00228666043279,-0.115426128894492,1.18857212532067,0.660763308138343,1.09542939287673,0.319239955843895,0.753906040582283,0.195049645918642,1.06438181539542,0.940191505470164,1.18857212532067,0.195049645918642,0.505525420731776,0.847048773026224,0.319239955843895,0.691810885619657,0.691810885619657,0.257144800881269,1.00228666043279,0.536572998213089,0.132954490956015,0.536572998213089],"z":[-1.42460768686332,-1.06786655306464,-0.425732512227013,-0.568428965746485,-0.782473646025693,-1.42460768686332,-0.425732512227013,-1.35325946010358,-0.711125419265957,-0.211687831947805,-1.13921477982437,-0.425732512227013,-0.283036058707541,-1.21056300658411,-0.497080738986749,-1.92404527418147,-1.49595591362305,-0.853821872785429,-1.13921477982437,-1.49595591362305,-0.996518326304901,-1.28191123334384,-0.996518326304901,-2.06674172770094,-1.49595591362305,-1.63865236714252,-1.63865236714252,-0.925170099545165,-1.21056300658411,-0.425732512227013,-0.354384285467277,-0.782473646025693,-1.49595591362305,-1.42460768686332,-1.21056300658411,-1.35325946010358,-0.425732512227013,-1.06786655306464,-0.354384285467277,-1.13921477982437,-0.782473646025693,-1.35325946010358,-0.782473646025693,-0.711125419265957,-1.06786655306464,-0.925170099545165,-0.782473646025693,-0.0689913784283331,-0.996518326304901,-0.711125419265957,-1.06786655306464,-0.568428965746485,-1.42460768686332,-0.497080738986749,-1.13921477982437,-0.425732512227013,-1.13921477982437,-0.639777192506221,-1.21056300658411,-0.639777192506221,-0.425732512227013,-0.925170099545165,-0.782473646025693,-0.211687831947805,-0.782473646025693,-0.782473646025693,-0.354384285467277,-0.283036058707541,-0.782473646025693,-0.425732512227013,-0.711125419265957,-1.21056300658411,-0.996518326304901,-0.425732512227013,-0.853821872785429,-0.354384285467277,-0.996518326304901,-0.568428965746485,-0.711125419265957,-0.497080738986749,-0.782473646025693,-0.853821872785429,-0.853821872785429,-0.782473646025693,0.0737050750911389,0.287749755370347,-1.13921477982437,-1.06786655306464,-0.996518326304901,0.501794435649555,-0.782473646025693,-0.354384285467277,-1.63865236714252,-0.639777192506221,-0.639777192506221,0.145053301850875,-1.28191123334384,-0.782473646025693,-0.568428965746485,-1.21056300658411,-0.140339605188069,-0.782473646025693,-1.42460768686332,-0.283036058707541,-0.211687831947805,-0.711125419265957,-0.568428965746485,-0.283036058707541,-0.711125419265957,-0.354384285467277,-0.925170099545165,-0.140339605188069,-0.853821872785429,-0.853821872785429,-0.996518326304901,-0.211687831947805,-1.781348820662,0.0737050750911389,-1.06786655306464,-0.140339605188069,-0.711125419265957,-0.425732512227013,-0.711125419265957,0.644490889169027,-0.782473646025693,-0.283036058707541,-0.568428965746485,-0.140339605188069,-0.996518326304901,-0.782473646025693,-0.711125419265957,-0.0689913784283331,-1.13921477982437,-0.568428965746485,-0.568428965746485,-0.996518326304901,-0.925170099545165,-0.782473646025693,-0.639777192506221,-1.13921477982437,-0.782473646025693,-1.21056300658411,-0.425732512227013,-0.568428965746485,-0.996518326304901,0.00235684833140287,0.715839115928763,2.07145542436375,0.644490889169027,1.21527670324691,1.00123202296771,0.644490889169027,0.715839115928763,1.28662493000665,0.573142662409291,1.00123202296771,0.929883796207971,1.07258024972744,0.929883796207971,0.858535569448235,0.644490889169027,1.14392847648718,0.644490889169027,1.42932138352612,0.573142662409291,1.50066961028586,1.21527670324691,1.00123202296771,0.858535569448235,1.00123202296771,1.00123202296771,1.00123202296771,1.00123202296771,0.644490889169027,1.35797315676639,1.50066961028586,0.573142662409291,0.430446208889819,2.07145542436375,1.35797315676639,1.35797315676639,0.858535569448235,1.28662493000665,0.501794435649555,0.501794435649555,0.501794435649555,1.71471429056507,0.644490889169027,1.07258024972744,1.50066961028586,1.14392847648718,0.644490889169027,1.71471429056507,0.858535569448235,1.00123202296771,0.644490889169027,1.35797315676639,0.644490889169027,1.71471429056507,1.14392847648718,1.35797315676639,0.501794435649555,1.35797315676639,0.501794435649555,1.64336606380533,0.501794435649555,1.42932138352612,0.929883796207971,2.14280365112348,1.28662493000665,2.07145542436375,2.00010719760401,1.35797315676639,1.57201783704559,1.07258024972744,1.42932138352612,1.42932138352612,1.14392847648718,1.07258024972744,2.07145542436375,0.573142662409291,1.35797315676639,1.00123202296771,1.57201783704559,0.787187342688499,1.42932138352612,0.787187342688499,1.64336606380533,0.787187342688499,1.92875897084427,1.21527670324691,1.21527670324691,0.787187342688499,2.07145542436375,1.21527670324691,1.92875897084427,0.787187342688499,1.64336606380533,0.929883796207971,1.7860625173248,1.07258024972744,1.50066961028586,0.145053301850875,1.71471429056507,1.28662493000665,1.92875897084427,1.00123202296771,1.92875897084427,1.00123202296771,0.644490889169027,1.28662493000665,0.501794435649555,0.573142662409291,1.07258024972744,2.00010719760401,0.858535569448235,2.07145542436375,1.14392847648718,2.07145542436375,1.50066961028586,0.929883796207971,1.00123202296771,1.50066961028586,0.787187342688499,0.858535569448235,-0.639777192506221,-0.354384285467277,-0.568428965746485,-0.925170099545165,-0.283036058707541,-0.211687831947805,-1.63865236714252,-0.283036058707541,-0.425732512227013,-0.211687831947805,-0.568428965746485,-0.497080738986749,-1.13921477982437,0.00235684833140287,-0.782473646025693,0.00235684833140287,-0.283036058707541,-1.42460768686332,-0.782473646025693,-0.425732512227013,-1.42460768686332,-0.711125419265957,-0.996518326304901,-0.568428965746485,-0.425732512227013,-0.283036058707541,-0.0689913784283331,-0.0689913784283331,-0.711125419265957,0.287749755370347,-0.996518326304901,0.00235684833140287,-0.996518326304901,0.145053301850875,-0.425732512227013,-0.140339605188069,-0.425732512227013,0.644490889169027,-0.639777192506221,0.287749755370347,0.644490889169027,-0.996518326304901,-0.354384285467277,-0.354384285467277,-0.354384285467277,0.00235684833140287,-0.782473646025693,0.787187342688499,-0.996518326304901,-0.211687831947805,-0.140339605188069,0.00235684833140287,-0.568428965746485,0.145053301850875,-0.996518326304901,-0.283036058707541,-0.711125419265957,0.145053301850875,0.0737050750911389,-0.497080738986749,0.359097982130083,-0.853821872785429,-0.425732512227013,0.430446208889819,0.0737050750911389,-0.568428965746485,0.644490889169027,-0.211687831947805],"type":"scatter3d","mode":"markers","marker":{"color":"rgba(255,127,14,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(255,127,14,1)"}},"textfont":{"size":55},"error_y":{"color":"rgba(255,127,14,1)","width":55},"error_x":{"color":"rgba(255,127,14,1)","width":55},"line":{"color":"rgba(255,127,14,1)","width":55},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
]

.pull-right[
l'inertie quantifie l'nformation portée par le nuage

`$$I =\frac{1}{n}  \sum_{i=1}^n d^2(x_{i}, 0) = \frac{1}{n}  \sum_{i=1}^n  \sum_{k=1}^p x_{ik}^2$$`
.orange[Remarque :]

`$$I =\sum_{k=1}^p  \left( \frac{1}{n}  \sum_{i=1}^n  x_{ik}^2 \right) = \sum_{k=1}^p  Var(x_{.k})$$`
Si les variables sont réduites

`$$I = p$$`
]


---

template: information

## L'inertie portée par rapport à un axe `\(\Delta\)`  passant par `\(O\)`.



&lt;img src="acp_files/figure-html/penguins_centre_proj1-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;

---

template: information

## L'inertie portée par rapport à un axe `\(\Delta\)`  passant par `\(O\)`.



&lt;img src="acp_files/figure-html/penguins_centre_proj_unique-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;




L'inertie `\(I_{\Delta}\)` quantifie l'nformation préservée sur la droite  et `\(I_{\Delta^\perp}= I - I_{\Delta}\)` 
l'information perdue (merci Pythagore)

`$$I_{\Delta} = \frac{1}{n} \sum_{i=1}^n d^2(\class{rouge}{x^{\Delta}_{i}}, 0)$$`
`$$I_{\Delta^\perp} =\frac{1}{n}  \sum_{i=1}^n d^2( \class{rouge}{x^{\Delta}_{i}}, x_{i})$$`


---

name: construction

# Déterminer les meilleurs axes
 
--

## L'intuition 

### Situation simplifiée à 2 variables
.left-column[

&lt;img src="acp_files/figure-html/intuition-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;

]
--

.right-column[





`$$\class{rouge}{I_{\Delta} =  1}$$`


`$$\class{jaune}{I_{\Delta} =  1}$$`


`$$\class{vert}{I_{\Delta} =  1.89}$$`

]

---

template: construction


## Concrètement 

1. Chercher  .rouge[composante principale]  1 : l'axe qui préserve un maximum d'inertie, cet axe est défini par un vecteur `\(\vec{u_1}.\)` 

2. Chercher ensuite le vecteur `\(\vec{u_2}\)`, orthogonal à `\(\vec{u_1}\)` qui explique le maximum d'inertie après `\(\vec{u_1}\)`.

3. Déterminer ainsi les `\(p\)` vecteurs orthogonaux, classés en fonction de l'inertie qu'ils portent.

--

 
&lt;img src="acp_files/figure-html/concret-1.png" width="50%" height="30%" style="display: block; margin: auto;" /&gt;


--

Mathématiquement ces vecteurs correspondent aux .vert[vecteurs propres de la matrice de corrélation des différentes variables].  .orange[L'inertie portée par chaque axe] correspondant, est .orange[la valeur propre associée au vecteur propre].

Les .rouge[composantes principales] sont des combinaisons linéaires des variables initiales


---

template: construction


## Et ensuite ?

Sur l'exemple complet des manchots 





```r
library(FactoMineR)
penguins.PCA &lt;- PCA(X = penguins_centre, graph = FALSE)
penguins.PCA$eig
```

```
       eigenvalue percentage of variance cumulative percentage of variance
comp 1  2.7453557              68.633893                          68.63389
comp 2  0.7781172              19.452929                          88.08682
comp 3  0.3686425               9.216063                          97.30289
comp 4  0.1078846               2.697115                         100.00000
```

--

.left-column[
&lt;img src="acp_files/figure-html/PCA_manchots_plot-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;
]

.right-column[
Il s'agit de la représentation en 2 dimensions qui déforment le moins possible le nuage global des points


 A l'aide de 2 dimensions seulement, on représente 68.6338931 + 19.4529293 de l'inertie totale.

]


---

name: interprétation

# Interprétation

--

## Qualité de la représentation des individus


.pull-left[
&lt;img src="./cos2_ind.png" width="40%" height="30%" style="display: block; margin: auto;" /&gt;
]

--
.pull-right[

* Le cosinus (au carré pour éviter les questions de signe) de l'angle entre la composante principale est le vecteur `\(\vec{Ox_{i}}\)` nous informe de la qualité de la représentation de l'individu.

* Pour mesurer la qualité de la représentation d'un individu sur le plan CP1, CP2, on additionne la qualité de la représentation sur chaque axe.

* On ne peut pas discuter des individus mal représentés

]


&lt;img src="acp_files/figure-html/acp_penguins_rep-1.png" width="50%" height="30%" style="display: block; margin: auto;" /&gt;




---

template: interprétation


## Qualité de la représentation des variables 

De la même manière que pour les individus, on regarde l'angle entre les composantes principales et les variables

.pull-left[

Les `\(cos^2\)` des variables :


```
      Dim.1        Dim.2   Plan.12
1 0.8294881 4.549411e-03 0.8340375
2 0.5652466 2.803042e-01 0.8455508
3 0.9134542 2.606919e-05 0.9134803
4 0.4371669 4.932375e-01 0.9304044
```
]

--

Le cercle des corrélations : 

```r
plot(penguins.PCA, choix = "var")
```

&lt;img src="acp_files/figure-html/var_proj_quality-1.png" width="60%" height="40%" style="display: block; margin: auto;" /&gt;





---
template: interprétation


## Visualisation conjointe individus et variables sur le premier plan principal  1-2

&lt;img src="acp_files/figure-html/conjoint-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;



---
template: interprétation


## Visualisation conjointe individus et variables sur le premier plan principal 3-4

&lt;img src="acp_files/figure-html/conjoint_bis-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;


---
name: exemple

# L'exemple des caractéristiques du Doubs

--

## La projection sur le premier plan principal 


```r
doubs.PCA &lt;- PCA(doubs.env, graph = FALSE)
p1 &lt;- plot(doubs.PCA, axes = c(1,2))
p2 &lt;- plot(doubs.PCA, choix = "var", axes = c(1, 2) )
ggpubr::ggarrange(nrow = 1, plotlist = list(p1,p2), ncol = 2)
```

&lt;img src="acp_files/figure-html/doubs_PCA-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;


---
template: exemple

--

##  Faut-il aller voir les autres composantes principales

&lt;img src="acp_files/figure-html/eigen_values-1.png" width="60%" height="30%" style="display: block; margin: auto;" /&gt;


---
name: fin

# Pour finir en beauté

--


```r
library(Factoshiny)
PCAshiny(penguins)
```


---

# Ce qu'il faut absolument savoir pour les TDs

* L'inertie mesure la quantité d'information.

* La valeur propre associée à une composante principale est l'inertie préservée par projection sur cette composante.

* L'ACP est un changement de repère pour projeter de façon pertinente donc les composantes principales sont des combinaisons linéaires des variables d'origine.

* On perd de l'information en projetant, malgré toutes nos précautions.

* Vérifier la qualité de la représentation des variables et des individus avant toute interprétation.

* Deux variables orthogonales, sont des variables ayant un coefficient de corrélation de 0.

* On peut interpréter plus que 2 axes.






    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="../courses_tools/resources/collapseoutput.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:10",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
